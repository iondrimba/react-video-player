(this["webpackJsonpvideo-player"]=this["webpackJsonpvideo-player"]||[]).push([[0],[,,,,function(t,e,s){t.exports=s(25)},,,,,,,,,,,,function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){"use strict";s.r(e);var i=s(0),o=s.n(i),n=s(2),a=s.n(n);const r=t=>t.split(":").reduce((t,e)=>60*t+ +e),c=t=>{const e=parseInt(t,10);let s=Math.floor(e/3600),i=Math.floor((e-3600*s)/60),o=e-3600*s-60*i;return s<10&&(s="0"+s),i<10&&(i="0"+i),o<10&&(o="0"+o),"".concat(s,":").concat(i,":").concat(o)},h=(t,e)=>t/e*100;var l=s(3),p=s.n(l);class d{constructor(){this.history=p()()}onChange(t){this.history.listen((e,s)=>{e.state&&t(e.state.spot)})}update(t){t.name?this.history.push("".concat(t.name),{spot:t.time}):this.history.push(t)}}s(16);class m extends i.Component{render(){return o.a.createElement("div",{className:this.props.display?"timer":"timer timer--hide",style:{transform:"translateX(".concat(this.props.position-30,"px)")}},this.props.time)}}var u=m;s(17);class v extends i.Component{constructor(t){super(t),this.state={scale:0,duration:this.props.duration,mousePosition:0,display:!1,time:0}}onClick(t){this.props.onSeek(h(t.nativeEvent.layerX,t.currentTarget.offsetWidth))}onMouseMove(t){const e=h(t.nativeEvent.layerX,t.currentTarget.offsetWidth)*this.props.duration/100;this.setState({display:!0,time:c(e),mousePosition:t.nativeEvent.layerX,scale:t.nativeEvent.layerX/t.currentTarget.offsetWidth})}onMouseLeave(t){this.setState({scale:0,display:!1})}render(){return o.a.createElement("div",{className:"seeker",onClick:this.onClick.bind(this),onMouseLeave:this.onMouseLeave.bind(this),onMouseMove:this.onMouseMove.bind(this)},o.a.createElement(u,{time:this.state.time,display:this.state.display,position:this.state.mousePosition}),o.a.createElement("div",{className:"seeker__knob",style:{transform:"translateX(".concat(this.props.currentPositionPercentual*this.props.width/100-5,"px)")}}),o.a.createElement("div",{className:"seeker__line seeker__line--bg"}),o.a.createElement("div",{className:"seeker__line seeker__line--mover",style:{transform:"scaleX(".concat(this.state.scale,")")}}),o.a.createElement("div",{className:"seeker__line seeker__line--current",style:{transform:"scaleX(".concat(this.props.currentPositionPercentual/100,")")}}))}}var y=v;s(18);var k=()=>o.a.createElement("svg",{className:"star",xmlns:"http://www.w3.org/2000/svg",viewBox:"60 0 121 115",preserveAspectRatio:"xMinYMax meet"},o.a.createElement("polygon",{points:"124.635,8.232 139.966,39.295 174.248,44.277 149.442,68.456 155.297,102.598 124.635,86.479   93.974,102.598 99.83,68.456 75.024,44.277 109.306,39.295 "}));s(19);class g extends i.Component{componentDidMount(){this.props.animate&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.toolTip&&(this.toolTip.style="opacity:1;transform: rotate(0deg) translateY(-97%)")})})}render(){return o.a.createElement("div",{ref:t=>{this.toolTip=t},className:"tool-tip"},o.a.createElement("img",{className:"tool-tip__image",src:this.props.thumb,width:200,height:150,alt:"tooltip"}),o.a.createElement("p",{className:"tool-tip__description"},this.props.description))}}var E=g;class w extends i.Component{constructor(t){super(t),this.state={spot:{}}}getSpotPosition(t,e){const s=r(t);return{transform:"translateX(".concat(h(s,e)*this.props.containerWidth/100,"px)")}}onClick(){this.props.onClick(this.props.spot)}onMouseOver(t){this.setState({spot:t})}onMouseLeave(){this.setState({spot:{}})}toolTip(){let t=null;return this.state.spot.name&&(t=o.a.createElement(E,{animate:!0,thumb:this.state.spot.thumb,description:this.state.spot.description})),t}render(){return o.a.createElement("div",{ref:t=>{this.spot=t},className:"hotspot",onClick:this.onClick.bind(this),onMouseLeave:this.onMouseLeave.bind(this),onMouseOver:this.onMouseOver.bind(this,this.props.spot),style:this.getSpotPosition(this.props.spot.time,this.props.duration)},o.a.createElement(k,null),this.toolTip())}}var C=w;s(20);class b extends i.Component{render(){return o.a.createElement("div",{className:"hotspot-container"},this.props.hotSpots.map((t,e)=>o.a.createElement(C,{onClick:this.props.onClick.bind(this),containerWidth:this.props.width,spot:t,duration:this.props.duration,key:e})))}}var f=b;s(21);class S extends i.Component{onPlayClick(){this.props.onClick(!0)}onPauseClick(){this.props.onClick(!1)}render(){return o.a.createElement("div",{className:"play-pause"},o.a.createElement("svg",{onClick:this.onPlayClick.bind(this),className:"button ".concat(this.props.playing?"hide":""),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 283.5 283.5"},o.a.createElement("circle",{cx:"141.7",cy:"141.7",r:"137.5",className:"button__bg"}),o.a.createElement("path",{d:"M113.6 78.1L201.8 141.7 113.6 205.4",className:"button__icon"})),o.a.createElement("svg",{onClick:this.onPauseClick.bind(this),className:"button ".concat(this.props.playing?"":"hide"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 283.5 283.5"},o.a.createElement("circle",{cx:"141.7",cy:"141.7",r:"137.5",className:"button__bg"}),o.a.createElement("g",{xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("rect",{height:"120",width:"30",x:"95",y:"85"}),o.a.createElement("rect",{height:"120",width:"30",x:"150",y:"85"}))))}}var P=S;s(22);class x extends i.Component{constructor(t){super(t),this.history=new d,this.history.onChange(this.seekSpot.bind(this)),this.state={duration:0,currentPositionPercentual:0,playing:!1,width:0}}componentDidMount(){this.video.controls=!1,this.video.addEventListener("timeupdate",this.onTimeUpdate.bind(this)),this.video.addEventListener("loadedmetadata",this.onLoadMetadata.bind(this)),this.video.addEventListener("seeked",this.onSeeked.bind(this)),window.addEventListener("resize",this.onResize.bind(this)),this.onResize()}onResize(){this.setState({width:document.querySelector(".seeker").offsetWidth})}onLoadMetadata(){this.setState({duration:this.video.duration})}onTimeUpdate(){this.setState({currentPositionPercentual:h(this.video.currentTime,this.video.duration)}),this.video.ended&&(this.setState({playing:!1,currentPositionPercentual:0}),this.history.update("/"))}onSeeked(){const t=setTimeout(()=>{this.setState({playing:!0}),this.video.play(),this.seeking.classList.remove("seeking-overlay--show"),clearTimeout(t)},300)}seekSpot(t){this.seek(h(r(t),this.video.duration))}seek(t){this.setState({playing:!1}),this.video.pause(),requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.seeking.classList.add("seeking-overlay--show")})});const e=setTimeout(()=>{this.video.currentTime=t*this.video.duration/100,clearTimeout(e)},100)}onHotSpotClick(t,e){this.history.update(t)}onPlayPauseClick(t){this.setState({playing:t}),this.state.playing?this.video.pause():this.video.play()}render(){return o.a.createElement("div",{className:"player"},o.a.createElement("div",{className:"video-container"},o.a.createElement("video",{className:"video",ref:t=>{this.video=t}},o.a.createElement("source",{src:this.props.source,type:"video/mp4"})),o.a.createElement("div",{ref:t=>{this.seeking=t},className:"seeking-overlay"}),o.a.createElement(P,{onClick:this.onPlayPauseClick.bind(this),playing:this.state.playing})),o.a.createElement(y,{onSeek:this.seek.bind(this),duration:this.state.duration,width:this.state.width,currentPositionPercentual:this.state.currentPositionPercentual}),o.a.createElement(f,{hotSpots:this.props.hotSpots,width:this.state.width,onClick:this.onHotSpotClick.bind(this),duration:this.state.duration}))}}var M=x;s(23),s(24);class _ extends i.Component{constructor(t){super(t),this.state={hotSpots:[]}}componentDidMount(){fetch("./data.json").then(t=>t.json()).then(t=>{this.setState({hotSpots:t})})}render(){return o.a.createElement("div",{className:"app"},o.a.createElement(M,{source:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",hotSpots:this.state.hotSpots}))}}var N=_;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(o.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(t=>{t.unregister()})}],[[4,1,2]]]);
//# sourceMappingURL=main.29e0a82f.chunk.js.map